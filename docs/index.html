<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Adblock Detector Test</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script>
		(function() {
			document.addEventListener("DOMContentLoaded", function() {
				// Create a "fake ad"
				var fake_ad = document.createElement('div');
				fake_ad.innerHTML = '&nbsp;';
				// Hide it from viewport
				fake_ad.setAttribute('style', 'top: -999px; position: fixed;');
				// Add some Adblock bait classes
				fake_ad.className = 'adsbox ad-300x250 banner-ad';

				// Append the ad to DOM
				document.body.appendChild(fake_ad);

				// Wait 500ms for the adblocker to do its job 
				window.setTimeout(function() {
					if (fake_ad.offsetHeight === 0) {
						// Add class .adb to body
						document.body.classList.add('adb');
						// For testing
						console.log("Adblock is enabled!");
						document.write("Adblock is enabled!");
					} else {
						// For testing
						console.log("Adblock is disabled!");
						document.write("Adblock is disabled!");
					}
					// Remove the fake ad from DOM
					document.body.removeChild(fake_ad);
				}, 500);
			});
		})();
	</script>
</head>
<body>
<a href="https://github.com/liltinkerer/detect-and-kill-adblock"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
</body>
</html>
